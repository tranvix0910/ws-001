<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Performance Testing - k6 :: AWS System Manager</title>

    
    <link href="/css/nucleus.css?1725374354" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1725374354" rel="stylesheet">
    <link href="/css/hybrid.css?1725374354" rel="stylesheet">
    <link href="/css/featherlight.min.css?1725374354" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1725374354" rel="stylesheet">
    <link href="/css/auto-complete.css?1725374354" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1725374354" rel="stylesheet">
    <link href="/css/theme.css?1725374354" rel="stylesheet">
    <link href="/css/hugo-theme.css?1725374354" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1725374354" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1725374354"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/2-preparation/2.8-k6/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1725374354"></script>
<script type="text/javascript" src="/js/auto-complete.js?1725374354"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/localhost:1313\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1725374354"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1-introduce/" title="Giới thiệu" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/">
           <b> 1. </b> Giới thiệu
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/1-introduce/1.1-implementationprocess/" title="Quy trình DevSecOps" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/1.1-implementationprocess/">
           <b> 1.1 </b> Quy trình DevSecOps
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-introduce/1.2-gitlabcicd/" title="Gitlab CI/CD" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/1.2-gitlabcicd/">
           <b> 1.2 </b> Gitlab CI/CD
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-introduce/1.3-tools/" title="DevSecOps Tools" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/1.3-tools/">
           <b> 1.3 </b> DevSecOps Tools
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2-preparation/" title="Thiết lập dự án" class="dd-item 
        parent
        
        
        ">
      <a href="/2-preparation/">
           <b> 2. </b> Thiết lập dự án
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-preparation/2.1-setupservers/" title="Thiết lập các Server cho dự án" class="dd-item 
        
        
        
        ">
      <a href="/2-preparation/2.1-setupservers/">
           <b> 2.1 </b> Thiết lập các Server cho dự án
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-preparation/2.2-containerregistry/" title="Private Container Registry - Portus" class="dd-item 
        
        
        
        ">
      <a href="/2-preparation/2.2-containerregistry/">
           <b> 2.2 </b> Private Container Registry - Portus
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-preparation/2.3-gitlabserver/" title="Gitlab Server" class="dd-item 
        
        
        
        ">
      <a href="/2-preparation/2.3-gitlabserver/">
           <b> 2.3 </b> Gitlab Server
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-preparation/2.4-database/" title="Database Server" class="dd-item 
        
        
        
        ">
      <a href="/2-preparation/2.4-database/">
           <b> 2.4 </b> Database Server
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-preparation/2.5-snyk/" title="Source Code Security - Snyk" class="dd-item 
        
        
        
        ">
      <a href="/2-preparation/2.5-snyk/">
           <b> 2.5 </b> Source Code Security - Snyk
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-preparation/2.6-trivy/" title="Trivy Security Scan Image" class="dd-item 
        
        
        
        ">
      <a href="/2-preparation/2.6-trivy/">
           <b> 2.6 </b> Trivy Security Scan Image
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-preparation/2.7-arachni/" title="Web Application Security Scan" class="dd-item 
        
        
        
        ">
      <a href="/2-preparation/2.7-arachni/">
           <b> 2.7 </b> Web Application Security Scan
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-preparation/2.8-k6/" title="Performance Testing - k6" class="dd-item 
        
        active
        
        ">
      <a href="/2-preparation/2.8-k6/">
           <b> 2.8 </b> Performance Testing - k6
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3-pipeline/" title="Thiết lập CI/CD Pipeline" class="dd-item 
        
        
        
        ">
      <a href="/3-pipeline/">
           <b> 3. </b> Thiết lập CI/CD Pipeline
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/3-pipeline/3.1-gitlab-runner/" title="Thiết lập Gitlab Runner" class="dd-item 
        
        
        
        ">
      <a href="/3-pipeline/3.1-gitlab-runner/">
           <b> 3.1 </b> Thiết lập Gitlab Runner
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-pipeline/3.2-build-and-push-image/" title="Build và Push Docker Image" class="dd-item 
        
        
        
        ">
      <a href="/3-pipeline/3.2-build-and-push-image/">
           <b> 3.2 </b> Build và Push Docker Image
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-pipeline/3.3-security-performance/" title="Security Scan và Performance Test" class="dd-item 
        
        
        
        ">
      <a href="/3-pipeline/3.3-security-performance/">
           <b> 3.3 </b> Security Scan và Performance Test
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-pipeline/3.4-send-report/" title="Gửi Report vào Telegram" class="dd-item 
        
        
        
        ">
      <a href="/3-pipeline/3.4-send-report/">
           <b> 3.4 </b> Gửi Report vào Telegram
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-deployk8s/" title="" class="dd-item 
        
        
        
        ">
      <a href="/4-deployk8s/">
          
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5-gitops/" title="" class="dd-item 
        
        
        
        ">
      <a href="/5-gitops/">
          
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"><i class='fab fa-facebook'></i> AWS Study Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="//localhost:1313/2-preparation/2.8-k6/" selected>English</option>
                    
                  
              
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>09-08-2024</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
            <i> <a href="https://www.linkedin.com/in/tranvix0910/"  style="color:orange">Đại Vĩ  </a> <br>
               
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>DevSecOps Pipeline</a> > <a href='/2-preparation/'>Thiết lập dự án</a> > Performance Testing - k6
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Performance Testing - k6
            </h1>
          

        



	<h4 id="cài-đặt-k6">Cài đặt k6</h4>
<p>Tạo file shell script để cài đặt k6 ở Server <strong>Build</strong>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>sudo gpg -k
</span></span><span style="display:flex;"><span>sudo gpg --no-default-keyring --keyring /usr/share/keyrings/k6-archive-keyring.gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys C5AD17C747E3415A3642D57D77C6C491D6AC1D69
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;deb [signed-by=/usr/share/keyrings/k6-archive-keyring.gpg] https://dl.k6.io/deb stable main&#34;</span> | sudo tee /etc/apt/sources.list.d/k6.list
</span></span><span style="display:flex;"><span>sudo apt-get update
</span></span><span style="display:flex;"><span>sudo apt-get install k6
</span></span></code></pre></div><p>Tiến hành cài đặt.</p>
<pre tabindex="0"><code>sh install-k6.sh
</code></pre><h4 id="các-loại-performance-testing">Các loại Performance Testing</h4>
<p>Trước khi sử dụng k6, trước tiên chúng ta hãy hiểu định nghĩa và sự khác biệt của các loại Performance Testing này.
<img alt="alt text" src="/images/2-preparation/2.8-k6/2-8-1.png"></p>
<ol>
<li>
<p><strong>Load Testing (Kiểm thử tải)</strong>:</p>
<ul>
<li>Đây là quá trình kiểm tra phần mềm bằng cách áp dụng tải lớn mục đích đo lường và đánh giá các yếu tố như thời gian đáp ứng, tài nguyên tiêu tốn của hệ thống, sự ổn định của hệ thống dưới tải cao.</li>
</ul>
</li>
<li>
<p><strong>Smoke Testing</strong>:</p>
<ul>
<li>
<p>Kiểm thử này nhằm xác định liệu phiên bản phần mềm có thể khởi chạy và hoạt động bình thường với các chức năng cơ bản nhất hay không.</p>
</li>
<li>
<p>Đây là bước kiểm thử ban đầu để quyết định xem phần mềm có đủ ổn định để thực hiện các kiểm thử chi tiết hơn.</p>
</li>
</ul>
</li>
<li>
<p><strong>Load Testing (for Performance)</strong>:</p>
<ul>
<li>Tập trung vào việc đánh giá hiệu suất của hệ thống dưới tải trọng cụ thể để đảm bảo hệ thống đáp ứng yêu cầu về hiệu suất như thời gian phản hồi và xử lý yêu cầu trong giới hạn cho phép.</li>
</ul>
</li>
<li>
<p><strong>Stress Testing</strong>:</p>
<ul>
<li>
<p>Kiểm thử này nhằm xác định giới hạn của hệ thống bằng cách áp dụng tải cao hơn so với tải dự kiến, tăng dần và giảm dần số lượng người dùng qua các mức để kiểm tra.</p>
</li>
<li>
<p>Mục đích là để tìm ra điểm gãy của hệ thống, từ đó có thể tối ưu hóa và chuẩn bị cho các tình huống tải cao đột ngột.</p>
</li>
</ul>
</li>
<li>
<p><strong>Spike Testing</strong>:</p>
<ul>
<li>Một dạng cụ thể của Stress Testing, kiểm thử này mô phỏng các tình huống tải tăng đột ngột trong một khoảng thời gian ngắn để đánh giá khả năng của hệ thống trong việc xử lý các biến động tải đột ngột.</li>
</ul>
</li>
<li>
<p><strong>Soak/Endurance Testing</strong>:</p>
<ul>
<li>Kiểm thử này đánh giá hiệu suất của hệ thống dưới tải trọng trong một khoảng thời gian dài để xác định các vấn đề tiềm ẩn liên quan đến hiệu suất dài hạn như rò rỉ bộ nhớ hoặc suy giảm hiệu suất theo thời gian.</li>
</ul>
</li>
</ol>
<h4 id="thiết-lập-k6-test">Thiết lập k6 Test</h4>
<p>Ví dụ chúng ta sẽ tạo một file <code>load-test.js</code> và tiến hành test.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">http</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;k6/http&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">check</span>, <span style="color:#a6e22e">sleep</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;k6&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">options</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">vus</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;10s&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">thresholds</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">http_req_duration</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;p(95)&lt;500&#39;</span>] <span style="color:#75715e">// 95% request dưới 500ms
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">BASE_URL</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://192.168.181.104:3000/&#39;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">res</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">BASE_URL</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">check</span>(<span style="color:#a6e22e">res</span>, {
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;status was 200&#39;</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">r</span>) =&gt; <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">200</span>,
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sleep</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Output</p>
<pre tabindex="0"><code>root@build-server:/tools/k6# k6 run load-test.js

          /\      |‾‾| /‾‾/   /‾‾/
     /\  /  \     |  |/  /   /  /
    /  \/    \    |     (   /   ‾‾\
   /          \   |  |\  \ |  (‾)  |
  / __________ \  |__| \__\ \_____/ .io

     execution: local
        script: load-test.js
        output: -

     scenarios: (100.00%) 1 scenario, 100 max VUs, 40s max duration (incl. graceful stop):
              * default: 100 looping VUs for 10s (gracefulStop: 30s)


     ✓ status was 200

     checks.........................: 100.00% ✓ 811       ✗ 0
     data_received..................: 781 kB  71 kB/s
     data_sent......................: 70 kB   6.4 kB/s
     http_req_blocked...............: avg=14.71ms  min=30.3µs   med=44.3µs   max=433.35ms p(90)=64.81ms  p(95)=105.95ms
     http_req_connecting............: avg=10.95ms  min=0s       med=0s       max=188.22ms p(90)=52.37ms  p(95)=95.06ms
   ✓ http_req_duration..............: avg=202.57ms min=2.04ms   med=200.53ms max=508.74ms p(90)=337.88ms p(95)=384.15ms
       { expected_response:true }...: avg=202.57ms min=2.04ms   med=200.53ms max=508.74ms p(90)=337.88ms p(95)=384.15ms
     http_req_failed................: 0.00%   ✓ 0         ✗ 811
     http_req_receiving.............: avg=1.67ms   min=85.7µs   med=150.2µs  max=120.63ms p(90)=1.18ms   p(95)=4.52ms
     http_req_sending...............: avg=31.14ms  min=40µs     med=69.8µs   max=354.27ms p(90)=117.14ms p(95)=148.13ms
     http_req_tls_handshaking.......: avg=0s       min=0s       med=0s       max=0s       p(90)=0s       p(95)=0s
     http_req_waiting...............: avg=169.76ms min=921.41µs med=151.78ms max=440.52ms p(90)=300.11ms p(95)=334.18ms
     http_reqs......................: 811     73.898412/s
     iteration_duration.............: avg=1.29s    min=1s       med=1.29s    max=1.68s    p(90)=1.46s    p(95)=1.5s
     iterations.....................: 811     73.898412/s
     vus............................: 2       min=2       max=100
     vus_max........................: 100     min=100     max=100


running (11.0s), 000/100 VUs, 811 complete and 0 interrupted iterations
default ✓ [======================================] 100 VUs  10s
</code></pre><p><strong>data_received</strong>:</p>
<ul>
<li>Tổng số dữ liệu nhận được từ máy chủ qua các yêu cầu HTTP trong suốt quá trình kiểm thử.</li>
</ul>
<p><strong>data_sent</strong>:</p>
<ul>
<li>Tổng số dữ liệu đã gửi đi từ client đến máy chủ qua các yêu cầu HTTP trong suốt quá trình kiểm thử.</li>
</ul>
<p><strong>http_req_blocked</strong>:</p>
<ul>
<li>
<p>Thời gian bị chặn trước khi yêu cầu HTTP được gửi đi (có thể do giới hạn băng thông, hạn chế tài nguyên&hellip;).</p>
</li>
<li>
<p>Cho biết thời gian request phải chờ đợi trước khi được xử lý.</p>
</li>
</ul>
<p><strong>http_req_connecting</strong>:</p>
<ul>
<li>Thời gian kết nối với máy chủ sau khi gửi request.</li>
</ul>
<p><strong>http_req_duration</strong>:</p>
<ul>
<li>Thời gian hoàn thành toàn bộ yêu cầu HTTP, từ lúc bắt đầu đến khi hoàn thành toàn bộ phản hồi.</li>
</ul>
<p><strong>http_req_failed</strong>:</p>
<ul>
<li>Số lượng yêu cầu HTTP thất bại (có thể do lỗi mạng, lỗi máy chủ&hellip;).</li>
</ul>
<p><strong>http_req_receiving</strong>:</p>
<ul>
<li>Thời gian nhận dữ liệu từ máy chủ sau khi yêu cầu HTTP đã được gửi đi.</li>
</ul>
<p><strong>http_req_sending</strong>:</p>
<ul>
<li>Thời gian gửi dữ liệu yêu cầu đến máy chủ ( client -&gt; server ).</li>
</ul>
<p><strong>http_req_tls_handshaking</strong>:</p>
<ul>
<li>
<p>Thời gian thiết lập kết nối an toàn (SSL)</p>
</li>
<li>
<p>Thời gian thực hiện bắt tay (handshake) TLS cho kết nối HTTPS.</p>
</li>
</ul>
<p><strong>http_req_waiting</strong>:</p>
<ul>
<li>Thời gian chờ đợi phản hồi từ máy chủ sau khi gửi yêu cầu HTTP.</li>
</ul>
<p><strong>http_reqs</strong>:</p>
<ul>
<li>Tổng số lượng yêu cầu HTTP đã được thực hiện.</li>
</ul>
<p><strong>iteration_duration</strong>:</p>
<ul>
<li>Thời gian thực hiện một vòng lặp (iteration) của kịch bản kiểm thử.</li>
</ul>
<p><strong>iterations</strong>:</p>
<ul>
<li>Tổng số vòng lặp (iterations) đã được thực hiện trong kịch bản kiểm thử.</li>
</ul>
<p><strong>vus</strong>:</p>
<ul>
<li>Số lượng người dùng ảo (Virtual Users) hiện tại đang thực hiện kiểm thử.</li>
</ul>
<p><strong>vus_max</strong>:</p>
<ul>
<li>Số lượng người dùng ảo tối đa trong quá trình kiểm thử.</li>
</ul>
<p>Như vậy chúng ta đã cài đặt thành công k6 và thực hiện test cơ bản.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/2-preparation/2.7-arachni/" title="Web Application Security Scan"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/3-pipeline/" title="Thiết lập CI/CD Pipeline" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1725374354"></script>
    <script src="/js/perfect-scrollbar.min.js?1725374354"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1725374354"></script>
    <script src="/js/jquery.sticky.js?1725374354"></script>
    <script src="/js/featherlight.min.js?1725374354"></script>
    <script src="/js/highlight.pack.js?1725374354"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1725374354"></script>
    <script src="/js/learn.js?1725374354"></script>
    <script src="/js/hugo-learn.js?1725374354"></script>

    <link href="/mermaid/mermaid.css?1725374354" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1725374354"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
